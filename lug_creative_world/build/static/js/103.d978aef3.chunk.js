"use strict";(self.webpackChunklug_creative_world=self.webpackChunklug_creative_world||[]).push([[103],{9103:function(e,s,n){n.r(s),n.d(s,{default:function(){return Z}});var a=n(4165),t=n(5861),c=n(9439),r=(n(6009),n(6355)),i=n(8820),o=n(7692),l=n(7764),d=n(7689),u=n(1087),m=n(2791),h=n(3310),x=n(6550),p=n(1243),f=n(1687),j=n(8014),v=n(428),_=n(9126),N=n(2426),g=n.n(N),w=n(184),b=function(e){var s=e.comment,n=e.postid,r=(0,m.useState)(!1),i=(0,c.Z)(r,2),l=i[0],d=i[1];console.log(s);var u=function(){var e=(0,t.Z)((0,a.Z)().mark((function e(){var t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,f.fR)(n,s._id);case 2:t=e.sent,console.log(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,w.jsx)(w.Fragment,{children:(0,w.jsxs)("div",{id:"comment_box",children:[(0,w.jsxs)("div",{className:"comment_box_head",children:[(0,w.jsxs)("div",{className:"comment_profile_contain",children:[s.user.profilePicture?(0,w.jsx)("img",{src:"data:image/png;base64,".concat(s.user.profilePicture),alt:""}):(0,w.jsx)("img",{src:v,alt:"profile"}),(0,w.jsxs)("div",{className:"profile_data",children:[(0,w.jsx)("span",{children:s.user.username}),(0,w.jsx)("span",{children:g()(s.createdAt).fromNow()})]})]}),(0,w.jsxs)("div",{className:"drop_down_comment",children:[(0,w.jsx)(_.evw,{className:"icon",onClick:function(){d(!l)}}),(0,w.jsxs)("ul",{className:"drop ".concat(l?"showdrop":""),children:[(0,w.jsx)("li",{onClick:u,children:"Delete"}),(0,w.jsx)("li",{children:"Edit"})]})]})]}),(0,w.jsx)("div",{className:"comment_box_message",children:(0,w.jsx)("p",{children:s.commentText})}),(0,w.jsx)("div",{className:"comment_box_reactions",children:(0,w.jsxs)("div",{className:"comment_icons",children:[(0,w.jsx)(o.UZT,{className:"icon"}),(0,w.jsx)("span",{children:"10"})]})})]})})},k=function(e){var s=localStorage.getItem("user"),n=JSON.parse(s),r=(0,m.useState)(""),i=(0,c.Z)(r,2),o=i[0],l=i[1],d=(0,m.useState)([]),u=(0,c.Z)(d,2),h=u[0],x=u[1],p=(0,m.useState)(!1),_=(0,c.Z)(p,2),N=_[0],g=_[1],k=(0,m.useState)({}),Z=(0,c.Z)(k,2),S=Z[0],C=Z[1];(0,m.useEffect)((function(){function s(){return(s=(0,t.Z)((0,a.Z)().mark((function e(){var s;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,f.FQ)(n._id);case 2:s=e.sent,console.log(s),C(s);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function c(){return(c=(0,t.Z)((0,a.Z)().mark((function s(){var n;return(0,a.Z)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,(0,f.li)(e.articleid);case 2:n=s.sent,x(n);case 4:case"end":return s.stop()}}),s)})))).apply(this,arguments)}!function(){s.apply(this,arguments)}(),function(){c.apply(this,arguments)}()}),[o]);var y={commentText:o},T=function(){var s=(0,t.Z)((0,a.Z)().mark((function s(n){return(0,a.Z)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(n.preventDefault(),!o){s.next=6;break}return g(!1),s.next=5,(0,f.w)(e.articleid,y);case 5:s.sent;case 6:case"end":return s.stop()}}),s)})));return function(e){return s.apply(this,arguments)}}();return(0,w.jsx)("div",{className:"comment_modal",children:(0,w.jsxs)("div",{className:"modal_content",children:[(0,w.jsxs)("div",{className:"comment_top",children:[(0,w.jsxs)("h4",{children:[S.username," is commenting"]}),(0,w.jsx)("button",{className:"comment_cancel_button",onClick:e.onClose,children:(0,w.jsx)(j.dS3,{})})]}),!N&&(0,w.jsx)("input",{type:"text",onClick:function(){g(!0)},name:"",id:"inputclick",placeholder:"pin down your opinions"}),(0,w.jsxs)("form",{className:"comment_form ".concat(N?"active":""),onSubmit:T,children:[(0,w.jsxs)("div",{className:"comment_owner_profile",children:[S.profilePicture?(0,w.jsx)("img",{src:"data:image/png;base64,".concat(S.profilePicture),alt:"profile"}):(0,w.jsx)("img",{src:v,alt:"default_profile"}),(0,w.jsx)("span",{children:S.username})]}),(0,w.jsx)("textarea",{className:"comment_area",value:o,onChange:function(e){l(e.target.value)},required:!0,placeholder:"pin down your opinions"}),(0,w.jsxs)("div",{className:"comment_bottom_container",children:[(0,w.jsx)("span",{onClick:function(){g(!1)},children:"Cancel"}),(0,w.jsx)("button",{type:"submit",className:"comment_button",children:"comment"})]})]}),h&&h.map((function(s){return(0,w.jsx)(b,{comment:s,postid:e.articleid},s._id)}))]})})},Z=function(){var e=(0,d.TH)().pathname.split("/")[2],s=(0,m.useState)({}),n=(0,c.Z)(s,2),j=n[0],v=n[1],_=(0,m.useState)(!1),N=(0,c.Z)(_,2),g=N[0],b=N[1],Z=(0,m.useState)(0),S=(0,c.Z)(Z,2),C=S[0],y=(S[1],(0,m.useState)(0)),T=(0,c.Z)(y,2),U=T[0],P=T[1],B=(0,m.useState)(!1),F=(0,c.Z)(B,2),I=F[0],L=F[1],D=(0,m.useState)("Not Flagged"),H=(0,c.Z)(D,2),E=H[0],z=H[1];function A(){return O.apply(this,arguments)}function O(){return(O=(0,t.Z)((0,a.Z)().mark((function s(){var n,t;return(0,a.Z)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return I?(P(U-1),L(!I)):(P(U+1),L(!I)),n={likes:U,liked:I},s.next=4,(0,f.AS)(e,n);case 4:t=s.sent,L(t.liked),P(t.likes);case 7:case"end":return s.stop()}}),s)})))).apply(this,arguments)}return(0,m.useEffect)((function(){var s=function(){var s=(0,t.Z)((0,a.Z)().mark((function s(){var n;return(0,a.Z)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,p.Z.get("/api/posts/".concat(e));case 3:n=s.sent,v(n.data),s.next=10;break;case 7:throw s.prev=7,s.t0=s.catch(0),s.t0;case 10:case"end":return s.stop()}}),s,null,[[0,7]])})));return function(){return s.apply(this,arguments)}}();if(s(),void 0!==e){var n=function(){var s=(0,t.Z)((0,a.Z)().mark((function s(){var n;return(0,a.Z)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,(0,f.nN)(e);case 3:n=s.sent,console.log(n),P(n.likes),L(n.liked),s.next=12;break;case 9:throw s.prev=9,s.t0=s.catch(0),s.t0;case 12:case"end":return s.stop()}}),s,null,[[0,9]])})));return function(){return s.apply(this,arguments)}}();n()}}),[e]),0===Object.keys(j).length?(0,w.jsx)(h.Z,{}):(0,w.jsx)(w.Fragment,{children:(0,w.jsxs)("div",{id:"article_view_wrapper",children:[(0,w.jsx)(l.Z,{}),(0,w.jsxs)("div",{className:"article_wrapper_container",children:[(0,w.jsxs)("div",{className:"article_view_head",children:[(0,w.jsx)("h2",{children:j.title}),(0,w.jsxs)("div",{className:"div_main",children:[(0,w.jsx)(u.rU,{to:"/profile/".concat(j.authorId),children:(0,w.jsx)("img",{src:"data:image/png;base64,".concat(j.authorProfilePic),alt:"author_profile"})}),(0,w.jsxs)("div",{className:"div_p",children:[(0,w.jsx)("div",{className:"div1",children:(0,w.jsx)(u.rU,{to:"/profile/".concat(j.authorId),className:"to_profile",children:(0,w.jsx)("span",{children:j.author})})}),(0,w.jsxs)("div",{className:"div2",children:[(0,w.jsx)("span",{children:new Date(j.createdAt).toLocaleDateString("en-US",{month:"short",day:"2-digit"})}),(0,w.jsxs)("span",{children:[j.timeTakenToReadPost," min read"]})]})]})]}),(0,w.jsx)("ul",{children:(0,w.jsxs)("li",{children:[(0,w.jsx)("span",{children:E}),(0,w.jsxs)("span",{children:[C," Comments"]}),(0,w.jsxs)("span",{children:[U," Likes"]})]})})]}),g&&(0,w.jsx)(k,{onClose:function(){return b(!1)},article:j,articleid:e}),(0,w.jsx)("div",{className:"article_view_main",children:(0,w.jsx)(x.Z,{body:j.body})}),(0,w.jsx)("div",{className:"article_controls",children:(0,w.jsxs)("ul",{children:[(0,w.jsx)(r.ZH2,{className:"article_icons hvr-float-shadow"}),I?(0,w.jsx)("li",{children:(0,w.jsx)(i.L7p,{onClick:A,className:"article_icons hvr-float-shadow"})}):(0,w.jsx)("li",{children:(0,w.jsx)(o.UZT,{onClick:A,className:"article_icons hvr-float-shadow"})}),(0,w.jsxs)("li",{children:[(0,w.jsx)(r.DCG,{onClick:function(){b(!0)},className:"article_icons hvr-float-shadow"})," "]}),(0,w.jsx)(r.ZNz,{onClick:function(){(0,f.j8)(e)},className:"article_icons hvr-float-shadow"}),(0,w.jsx)("li",{children:(0,w.jsx)(r.wQ2,{onClick:function(){"Flagged"===E?z("Not Flagged"):"Not Flagged"===E&&z("Flagged")},className:"article_icons hvr-float-shadow"})})]})})]})]})})}},6550:function(e,s,n){n.d(s,{Z:function(){return r}});var a=n(8703),t=n.n(a),c=(n(6009),n(618),n(184));var r=function(e){var s=e.body,n=t().sanitize(s);return(0,c.jsx)("div",{className:"article_view_para ql-editor",dangerouslySetInnerHTML:{__html:n}})}},7764:function(e,s,n){n.d(s,{Z:function(){return v}});var a=n(4165),t=n(5861),c=n(9439),r=n(2791),i=n(5236),o=n(428),l=n(71),d=n(1578),u=n(6355),m=n(1087),h=n(1687),x=n(3855),p=n(8613),f=n(184),j=(0,r.memo)((function(e){var s=(0,r.useState)({}),n=(0,c.Z)(s,2),j=n[0],v=n[1],_=(0,r.useState)(!1),N=(0,c.Z)(_,2),g=N[0],w=N[1],b=(0,x.I0)(),k=["topbar",e.showBottomBoxShadow?"bottom-box-shadow":""].join(" "),Z=localStorage.getItem("user"),S=JSON.parse(Z);(0,r.useEffect)((function(){var e=function(){var e=(0,t.Z)((0,a.Z)().mark((function e(){var s;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,h.FQ)(S._id);case 2:s=e.sent,v(s);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[S._id]);var C=(0,r.useCallback)((function(){b((0,p.xz)(g))}));function y(){w(!g),C()}return(0,f.jsxs)("section",{className:k,children:[(0,f.jsxs)("div",{className:"container",children:[(0,f.jsxs)("div",{className:"logo-1",children:[(0,f.jsx)(m.rU,{to:"/dashboard",children:(0,f.jsx)("img",{className:"img1",src:i,alt:"lancaster-logo"})}),e.showText?(0,f.jsx)("span",{className:"logo-text",children:e.logoText}):(0,f.jsx)(m.rU,{to:"/dashboard",className:"home_link",children:(0,f.jsxs)("span",{className:"logo-text other_small",children:["Scholar",(0,f.jsx)("span",{className:"colored_part",children:"Scribe"})]})})]}),(0,f.jsxs)("ul",{className:"navbar",children:[e.showButton?(0,f.jsx)("li",{children:(0,f.jsx)("button",{className:"publish-button hvr-wobble-top",onClick:e.publishClick,children:"Publish"})}):(0,f.jsx)("li",{children:(0,f.jsxs)(m.rU,{to:"/writepage",className:"write",children:[(0,f.jsx)(l.tUd,{className:"write_icon"}),(0,f.jsx)("span",{className:"write_link hvr-wobble-top",children:"Write"})]})}),(0,f.jsx)("li",{children:(0,f.jsxs)("div",{className:"bg__change",children:[(0,f.jsx)("input",{type:"checkbox",className:"checkbox",onClick:y}),(0,f.jsxs)("label",{for:"checkbox",className:"checkbox__label",children:[(0,f.jsx)(u.Mei,{className:"fa-sun"}),(0,f.jsx)(u.TLr,{className:"fa-moon"}),(0,f.jsx)("span",{class:"check__ball",onClick:y})]})]})}),e.profile?(0,f.jsx)("li",{children:(0,f.jsx)(m.rU,{to:"/",children:(0,f.jsx)("button",{className:"publish-button hvr-wobble-top",onClick:e.logoutClick,children:"Logout"})})}):(0,f.jsx)("li",{children:(0,f.jsx)(m.rU,{to:"/profile/".concat(S._id),children:j.profilePicture?(0,f.jsx)("img",{className:"img4",src:"data:image/png;base64,".concat(j.profilePicture),alt:""}):(0,f.jsx)("img",{className:"img4",src:o,alt:""})})})]})]}),e.sidebar?e.showBottomBoxShadow&&(0,f.jsx)(d.Xlk,{className:"topbar_panel",onClick:e.sideBarHandle}):e.showBottomBoxShadow&&(0,f.jsx)(d.mtd,{className:"topbar_panel",onClick:e.sideBarHandle})]})})),v=j},428:function(e,s,n){e.exports=n.p+"static/media/profilevactor.4779aeafa6e57abc3cd1.jpg"}}]);
//# sourceMappingURL=103.d978aef3.chunk.js.map