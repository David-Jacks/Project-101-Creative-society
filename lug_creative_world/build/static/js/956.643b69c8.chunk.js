"use strict";(self.webpackChunklug_creative_world=self.webpackChunklug_creative_world||[]).push([[956],{956:function(e,a,n){n.r(a),n.d(a,{default:function(){return f}});var t=n(4165),s=n(5861),r=n(9439),o=n(2791),i=(n(6009),n(7764)),l=n(6770),c=n.n(l),d=n(3855),u=n(6969),h=n(6550),p=n(1687),x=n(8014),m=n(3310),j=n(184),v=function(e){var a=(0,o.useState)(null),n=(0,r.Z)(a,2),i=n[0],l=n[1],c=(0,o.useState)(!1),d=(0,r.Z)(c,2),u=d[0],h=d[1],v=(0,o.useState)(!1),b=(0,r.Z)(v,2),f=b[0],g=b[1],k=e.transfer1,N=k.title,w=k.body,C=k.description,y=k.author,S=k.timeTakenToReadPost,T=k.categories,_=k.authorId,Z=(0,o.useMemo)((function(){var e=new FormData;return e.append("title",N),e.append("descPhoto",i),e.append("body",w),e.append("author",y),e.append("authorId",_),e.append("timeTakenToReadPost",S),e.append("description",C),e.append("categories",T),e}),[N,w,C,y,S,T,_,i]),P=function(){var a=(0,s.Z)((0,t.Z)().mark((function a(n){return(0,t.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(n.preventDefault(),!(N&&w&&C)){a.next=14;break}if(h(!0),!e.transfer2.isUpdate){a.next=9;break}return a.next=6,(0,p.Xc)(e.transfer2.id,Z);case 6:a.sent,a.next=12;break;case 9:return a.next=11,(0,p.N5)(Z);case 11:a.sent;case 12:e.onClose(),h(!1);case 14:case 15:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();return u?(0,j.jsx)(m.Z,{}):(0,j.jsx)("div",{className:"publish-modal",children:(0,j.jsxs)("div",{className:"modal-content",children:[(0,j.jsxs)("div",{className:"publish-top",children:[(0,j.jsxs)("h4",{children:[y," is publishing"]}),(0,j.jsx)("button",{className:"cancel-button",onClick:e.onClose,children:(0,j.jsx)(x.dS3,{})})]}),(0,j.jsxs)("form",{onSubmit:P,children:[(0,j.jsx)("label",{children:(0,j.jsx)("textarea",{className:"area",value:C,onChange:e.handleDescChange,required:!0,placeholder:"Make your post a magnet for readers! Just drop in a quick, captivating description (up to 50 Words) to draw them into your world effortlessly."})}),(0,j.jsx)("label",{children:(0,j.jsxs)("select",{className:"box",value:T,onChange:e.handleCatChange,required:!0,children:[(0,j.jsx)("option",{value:"",children:"Pick Category"}),(0,j.jsx)("option",{value:"Programming",children:"Student Businesses"}),(0,j.jsx)("option",{value:"Case Study",children:"Case Study"}),(0,j.jsx)("option",{value:"Lifestyle",children:"Lifestyle"}),(0,j.jsx)("option",{value:"Health and wellness",children:"Health and wellness"}),(0,j.jsx)("option",{value:"Research Proposal",children:"Research Proposal"}),(0,j.jsx)("option",{value:"Comedy",children:"Comedy"}),(0,j.jsx)("option",{value:"Love and Relationships",children:"Love and Relationships"}),(0,j.jsx)("option",{value:"Creative Writing",children:"Creative Writing"}),(0,j.jsx)("option",{value:"Science and Technology",children:"Science and Technology"}),(0,j.jsx)("option",{value:"Announcements",children:"Announcements"}),(0,j.jsx)("option",{value:"Academics",children:"Academics"}),(0,j.jsx)("option",{value:"Sports and Entertainment",children:"Sports and Entertainment"})]})}),(0,j.jsx)("label",{children:(0,j.jsxs)("select",{className:"box",value:S,onChange:e.handleTimeTaken,required:!0,children:[(0,j.jsx)("option",{value:"",children:"Specify Reading Time"}),(0,j.jsx)("option",{value:"4",children:"Less Than 4 min"}),(0,j.jsx)("option",{value:"7",children:"Less Than 7 min"}),(0,j.jsx)("option",{value:"10",children:"Less Than 10 min"}),(0,j.jsx)("option",{value:"2",children:"More Than 2 min"}),(0,j.jsx)("option",{value:"5",children:"More Than 5 min"}),(0,j.jsx)("option",{value:"8",children:"More Than 8 min"}),(0,j.jsx)("option",{value:"12",children:"More Than 10 min"})]})}),(0,j.jsxs)("div",{className:"articlePhotoHandle",children:[(0,j.jsxs)("label",{className:"file-input-label",children:[(0,j.jsx)("h4",{children:f?"Update Photo":"Add Photo"}),(0,j.jsx)("input",{type:"file",name:"file",accept:"image/*",onChange:function(e){var a=e.target.files[0];l(a),g(!0)}})]}),i&&(0,j.jsx)("img",{src:URL.createObjectURL(i),alt:"Selected",className:"articlePhotoPreview"})]}),(0,j.jsx)("div",{className:"proceed-button-container",children:(0,j.jsx)("button",{type:"submit",className:"proceed-button",children:"Proceed"})})]})]})})},b=function e(){var a=(0,d.v9)((function(e){return e.article.value})),n=(0,o.useRef)(null),l=(0,d.I0)(),x=(0,o.useState)(a.title),m=(0,r.Z)(x,2),b=m[0],f=m[1],g=(0,o.useState)(a.description),k=(0,r.Z)(g,2),N=k[0],w=k[1],C=(0,o.useState)(a.body),y=(0,r.Z)(C,2),S=y[0],T=y[1],_=(0,o.useState)(a.timeTakenToReadPost),Z=(0,r.Z)(_,2),P=Z[0],R=Z[1],B=(0,o.useState)("Programming"),L=(0,r.Z)(B,2),U=L[0],M=L[1],I=(0,o.useState)(!0),q=(0,r.Z)(I,2),H=q[0],E=q[1],W=(0,o.useState)({}),A=(0,r.Z)(W,2),D=A[0],O=A[1],F=(0,o.useState)(!1),J=(0,r.Z)(F,2),z=J[0],Q=J[1],X=(0,o.useState)(1),G=(0,r.Z)(X,2),K=G[0],V=G[1],Y=localStorage.getItem("user"),$=JSON.parse(Y);(0,o.useEffect)((function(){var e=function(){var e=(0,s.Z)((0,t.Z)().mark((function e(){var a;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,p.FQ)($._id);case 2:a=e.sent,O(a);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[$._id]);var ee=D.username,ae=D._id,ne={title:b,body:S,author:ee,description:N,timeTakenToReadPost:P,categories:U,authorId:ae},te=(0,o.useCallback)((function(){b&&S?Q(!0):alert("Please check!! The Title or Body is Empty")}),[b,S]);return(0,j.jsxs)("section",{className:"writepage",children:[(0,j.jsx)(i.Z,{publishClick:te,showButton:!0,showText:!0,logoText:"Drafted by ".concat(ee)}),(0,j.jsxs)("div",{className:"writediv",children:[(0,j.jsxs)("div",{id:"toolbar",children:[H&&(0,j.jsx)("button",{className:"button-click ",onClick:function(){n.current.editor.history.redo()},children:"redo"}),H&&(0,j.jsx)("button",{className:"button-click ",onClick:function(){n.current.editor.history.undo()},children:"undo"}),(0,j.jsxs)("button",{className:"button-click",onClick:function(){l((0,u.RN)({body:S,title:b,isUpdate:a.isUpdate})),E(!H)},children:[" ",H?"Preview":"back"]})]}),H?(0,j.jsxs)("div",{className:"Editor_container",children:[(0,j.jsx)("div",{className:"article-write-header",children:(0,j.jsx)("textarea",{name:"header",id:"header",placeholder:"Write your tittle",value:b,rows:K,onChange:function(e){var a=e.target.rows;e.target.rows=1;var n=Math.floor(e.target.scrollHeight/40);n===a&&(e.target.rows=n),V(n<10?n:10),f(e.target.value)}})}),(0,j.jsx)(c(),{theme:"snow",placeholder:"Write your best...",modules:e.modules,onChange:T,value:S,formats:e.formats,ref:n})]}):(0,j.jsxs)("div",{className:"preview",children:[(0,j.jsx)("div",{className:"preview_head",children:(0,j.jsx)("h1",{children:b})}),(0,j.jsx)(h.Z,{body:S})]}),z&&(0,j.jsx)(v,{handleCatChange:function(e){M(e.target.value)},handleDescChange:function(e){w(e.target.value)},handleTimeTaken:function(e){R(e.target.value)},onClose:function(){return Q(!1)},transfer1:ne,transfer2:a})]})]})};b.modules={toolbar:[[{header:[1,2,!1]}],[{font:[]}],["bold","italic","underline","blockquote"],[{list:"ordered"},{list:"bullet"},{align:[]},{indent:"-1"},{indent:"+1"}],["link","image"],[{color:[]},{background:[]}],["clean"]],history:{delay:2e3,maxStack:500,userOnly:!0}},b.formats=["header","bold","italic","underline","blockquote","list","bullet","indent","link","image","font","align","color","background","undo","redo"];var f=b},6550:function(e,a,n){n.d(a,{Z:function(){return o}});var t=n(8703),s=n.n(t),r=(n(6009),n(618),n(184));var o=function(e){var a=e.body,n=s().sanitize(a);return(0,r.jsx)("div",{className:"article_view_para ql-editor",dangerouslySetInnerHTML:{__html:n}})}},7764:function(e,a,n){n.d(a,{Z:function(){return b}});var t=n(4165),s=n(5861),r=n(9439),o=n(2791),i=n(5236),l=n(428),c=n(71),d=n(1578),u=n(6355),h=n(1087),p=n(1687),x=n(3855),m=n(8613),j=n(184),v=(0,o.memo)((function(e){var a=(0,o.useState)({}),n=(0,r.Z)(a,2),v=n[0],b=n[1],f=(0,o.useState)(!1),g=(0,r.Z)(f,2),k=g[0],N=g[1],w=(0,x.I0)(),C=["topbar",e.showBottomBoxShadow?"bottom-box-shadow":""].join(" "),y=localStorage.getItem("user"),S=JSON.parse(y);(0,o.useEffect)((function(){var e=function(){var e=(0,s.Z)((0,t.Z)().mark((function e(){var a;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,p.FQ)(S._id);case 2:a=e.sent,b(a);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[S._id]);var T=(0,o.useCallback)((function(){w((0,m.xz)(k))}));function _(){N(!k),T()}return(0,j.jsxs)("section",{className:C,children:[(0,j.jsxs)("div",{className:"container",children:[(0,j.jsxs)("div",{className:"logo-1",children:[(0,j.jsx)(h.rU,{to:"/dashboard",children:(0,j.jsx)("img",{className:"img1",src:i,alt:"lancaster-logo"})}),e.showText?(0,j.jsx)("span",{className:"logo-text",children:e.logoText}):(0,j.jsx)(h.rU,{to:"/dashboard",className:"home_link",children:(0,j.jsxs)("span",{className:"logo-text other_small",children:["Scholar",(0,j.jsx)("span",{className:"colored_part",children:"Scribe"})]})})]}),(0,j.jsxs)("ul",{className:"navbar",children:[e.showButton?(0,j.jsx)("li",{children:(0,j.jsx)("button",{className:"publish-button hvr-wobble-top",onClick:e.publishClick,children:"Publish"})}):(0,j.jsx)("li",{children:(0,j.jsxs)(h.rU,{to:"/writepage",className:"write",children:[(0,j.jsx)(c.tUd,{className:"write_icon"}),(0,j.jsx)("span",{className:"write_link hvr-wobble-top",children:"Write"})]})}),(0,j.jsx)("li",{children:(0,j.jsxs)("div",{className:"bg__change",children:[(0,j.jsx)("input",{type:"checkbox",className:"checkbox",onClick:_}),(0,j.jsxs)("label",{for:"checkbox",className:"checkbox__label",children:[(0,j.jsx)(u.Mei,{className:"fa-sun"}),(0,j.jsx)(u.TLr,{className:"fa-moon"}),(0,j.jsx)("span",{class:"check__ball",onClick:_})]})]})}),e.profile?(0,j.jsx)("li",{children:(0,j.jsx)(h.rU,{to:"/",children:(0,j.jsx)("button",{className:"publish-button hvr-wobble-top",onClick:e.logoutClick,children:"Logout"})})}):(0,j.jsx)("li",{children:(0,j.jsx)(h.rU,{to:"/profile/".concat(S._id),children:v.profilePicture?(0,j.jsx)("img",{className:"img4",src:"data:image/png;base64,".concat(v.profilePicture),alt:""}):(0,j.jsx)("img",{className:"img4",src:l,alt:""})})})]})]}),e.sidebar?e.showBottomBoxShadow&&(0,j.jsx)(d.Xlk,{className:"topbar_panel",onClick:e.sideBarHandle}):e.showBottomBoxShadow&&(0,j.jsx)(d.mtd,{className:"topbar_panel",onClick:e.sideBarHandle})]})})),b=v},428:function(e,a,n){e.exports=n.p+"static/media/profilevactor.4779aeafa6e57abc3cd1.jpg"}}]);
//# sourceMappingURL=956.643b69c8.chunk.js.map