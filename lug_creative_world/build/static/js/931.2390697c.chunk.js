"use strict";(self.webpackChunklug_creative_world=self.webpackChunklug_creative_world||[]).push([[931],{7058:function(e,s,i){i.r(s),i.d(s,{default:function(){return g}});var a=i(9439),t=i(2791),r=i(8322),n=i(428),l=i(7764),c=i(458),o=i(1933),d=i(1687),u=i(3855),h=i(5932),p=i(7689),m=i(4165),x=i(5861),j=i(8014),f=i(184),_=function(e){var s=(0,t.useState)(!1),i=(0,a.Z)(s,2),r=i[0],n=i[1],l=(0,t.useState)(null),c=(0,a.Z)(l,2),o=c[0],u=c[1],h=(0,t.useState)(""),p=(0,a.Z)(h,2),_=p[0],v=p[1],g=(0,t.useState)(""),N=(0,a.Z)(g,2),b=(N[0],N[1],(0,t.useState)("")),k=(0,a.Z)(b,2),w=(k[0],k[1],(0,t.useState)("")),Z=(0,a.Z)(w,2),S=(Z[0],Z[1],""),C={username:_,photo:o},y=function(){var s=(0,x.Z)((0,m.Z)().mark((function s(i){return(0,m.Z)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(i.preventDefault(),!o){s.next=5;break}return s.next=4,(0,d._p)(o);case 4:S=s.sent;case 5:C.photo=S,e.onClose(),window.location.reload();case 8:case"end":return s.stop()}}),s)})));return function(e){return s.apply(this,arguments)}}(),P=function(){var s=(0,x.Z)((0,m.Z)().mark((function s(i){return(0,m.Z)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:i.preventDefault(),e.onClose();case 2:case"end":return s.stop()}}),s)})));return function(e){return s.apply(this,arguments)}}();return e.isprofilepic?(0,f.jsx)(f.Fragment,{children:(0,f.jsx)("div",{className:"edit_profile_modal",children:(0,f.jsxs)("div",{className:"modal_content_editprofile",children:[(0,f.jsxs)("div",{className:"edit_profile_top",children:[(0,f.jsxs)("h4",{children:[e.userDataQuery.username," is editing his profile"]}),(0,f.jsx)("button",{className:"comment_cancel_button",onClick:e.onClose,children:(0,f.jsx)(j.dS3,{})})]}),(0,f.jsxs)("form",{className:"edit_profile_form profile_pic_form",onSubmit:y,children:[(0,f.jsxs)("label",{htmlFor:"profileimg",children:[(0,f.jsx)("h4",{children:r?"Update Photo":"Add Photo"}),(0,f.jsx)("input",{id:"profileimg",type:"file",name:"file",accept:"image/*",onChange:function(e){var s=e.target.files[0];u(s),n(!0)}})]}),o&&(0,f.jsx)("img",{src:URL.createObjectURL(o),alt:"Selected",className:"profile_edit_img"}),(0,f.jsx)("button",{type:"submit",children:"Update"})]})]})})}):(0,f.jsx)(f.Fragment,{children:(0,f.jsx)("div",{className:"edit_profile_modal",children:(0,f.jsxs)("div",{className:"modal_content_editprofile",children:[(0,f.jsxs)("div",{className:"edit_profile_top",children:[(0,f.jsxs)("h4",{children:[e.userDataQuery.username," is editing his profile"]}),(0,f.jsx)("button",{className:"comment_cancel_button",onClick:e.onClose,children:(0,f.jsx)(j.dS3,{})})]}),(0,f.jsxs)("form",{className:"edit_profile_form",onSubmit:P,children:[(0,f.jsx)("input",{type:"text",name:"username",onChange:function(e){v(e.target.value)},placeholder:"Username"}),(0,f.jsx)("input",{type:"text",placeholder:"Firstname"}),(0,f.jsx)("input",{type:"text",placeholder:"Lastname"}),(0,f.jsx)("input",{type:"email",placeholder:"Email"}),(0,f.jsxs)("select",{name:"year_select",id:"",children:[(0,f.jsx)("option",{value:"",children:"select level"}),(0,f.jsx)("option",{value:"foundation",children:"foundation"}),(0,f.jsx)("option",{value:"year 1",children:"year 1"}),(0,f.jsx)("option",{value:"year 2",children:"year 2"}),(0,f.jsx)("option",{value:"year 3",children:"year 3 "})]}),(0,f.jsxs)("select",{name:"program_select",id:"",children:[(0,f.jsx)("option",{value:"",children:"select program"}),(0,f.jsx)("option",{value:"Computer Science",children:"Computer Science"}),(0,f.jsx)("option",{value:"Law",children:"Law"}),(0,f.jsx)("option",{value:"Business Management",children:"Business Management"}),(0,f.jsx)("option",{value:"Accounting",children:"Accounting"}),(0,f.jsx)("option",{value:"International Relations",children:"International Relations"})]}),(0,f.jsx)("button",{type:"submit",children:"Update"})]})]})})})},v=i(3310),g=(0,t.memo)((function(){var e=localStorage.getItem("user"),s=JSON.parse(e),i=(0,p.TH)().pathname.split("/")[2],m=s._id===i,x=(0,t.useState)(!1),j=(0,a.Z)(x,2),g=j[0],N=j[1],b=(0,t.useState)(!1),k=(0,a.Z)(b,2),w=k[0],Z=k[1],S=(0,u.I0)(),C=(0,t.useState)(!1),y=(0,a.Z)(C,2),P=y[0],U=y[1],T=(0,o.useQuery)(["userdata",i],(function(){return(0,d.FQ)(i)}),{enabled:void 0!==i}),L=T.data,A=(T.error,T.isLoading),B=(0,o.useQuery)(["userArticle",i],(function(){return(0,d.PZ)(i)}),{enabled:void 0!==i}),I=B.data,D=(B.error,B.isLoading),F=(0,t.useCallback)((function(){S((0,h.kS)()),(0,d.RD)()}),[S]),R=function(){N(!0),Z(!1)};return A||D?(0,f.jsx)(v.Z,{}):(0,f.jsx)(f.Fragment,{children:(0,f.jsxs)("div",{id:"profile_page",children:[(0,f.jsx)(l.Z,{logoutClick:F,profile:!0,profilepic:L.profilePicture}),(0,f.jsxs)("div",{className:"profile_first_half",children:[(0,f.jsxs)("div",{className:"profile_img",children:[L.profilePicture?(0,f.jsx)("img",{src:"data:image/png;base64,".concat(L.profilePicture),alt:"profile"}):(0,f.jsx)("img",{src:n,alt:"profile"}),m&&(0,f.jsx)(c.D4U,{className:"profile_img_update",onClick:function(){N(!0),Z(!0)}})]}),(0,f.jsx)("h2",{children:L.username}),(0,f.jsxs)("ul",{children:[(0,f.jsxs)("li",{children:[I.length," contributed articles"]}),m&&(0,f.jsx)("li",{className:"profile_edit_btn",onClick:R,children:(0,f.jsx)("span",{onClick:R,children:"Edit profile"})})]})]}),g&&(0,f.jsx)(_,{isOpen:g,onClose:function(){return N(!1)},userDataQuery:L,isprofilepic:w}),(0,f.jsxs)("div",{className:"profile_second_half",children:[(0,f.jsxs)("div",{className:"profile_toggle_row",children:[(0,f.jsx)("button",{className:P?"not_clicked":"clicked",onClick:function(){return U(!1)},children:"ARTICLES"}),m&&(0,f.jsx)("button",{className:P?"clicked":"not_clicked",onClick:function(){return U(!0)},children:"SAVED"})]}),P?(0,f.jsx)("div",{className:"profile_art_contain",children:L.savedArticles&&L.savedArticles.length>0?L.savedArticles.map((function(e){return(0,f.jsx)(r.Z,{articles:e},e.id)})):(0,f.jsx)("p",{className:"profile_no_data",children:"You have no saved posts"})}):(0,f.jsx)("div",{className:"profile_art_contain",children:I&&I.length>0?I.map((function(e){return(0,f.jsx)(r.Z,{articles:e},e.id)})):(0,f.jsx)("p",{className:"profile_no_data",children:"No articles contributed yet.. visit write to start writting"})})]})]})})}))},8322:function(e,s,i){i.d(s,{Z:function(){return g}});var a=i(4165),t=i(5861),r=i(9439),n=i(6355),l=i(7692),c=i(6856),o=i(8820),d=i(7689),u=i(1087),h=i(2791),p=i(428),m=i.p+"static/media/articlepic.0678e7a45e58ee833e93.jpg",x=i(1687),j=i(3855),f=i(6969),_=i(184),v=(0,h.memo)((function(e){var s=e.articles,i=(0,d.s0)(),v=(0,j.I0)(),g=localStorage.getItem("user"),N=JSON.parse(g)._id===s.authorId,b=(0,h.useState)(0),k=(0,r.Z)(b,2),w=k[0],Z=k[1],S=(0,h.useState)(!1),C=(0,r.Z)(S,2),y=C[0],P=C[1],U=(0,h.useState)("Not Flagged"),T=(0,r.Z)(U,2),L=T[0];T[1];function A(){return B.apply(this,arguments)}function B(){return(B=(0,t.Z)((0,a.Z)().mark((function e(){var i;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y?(Z(w-1),P(!y)):(Z(w+1),P(!y)),e.next=3,(0,x.AS)(s._id);case 3:i=e.sent,P(i.liked),Z(i.likes);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,h.useEffect)((function(){if(void 0!==s._id){var e=function(){var e=(0,t.Z)((0,a.Z)().mark((function e(){var i;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,x.nN)(s._id);case 3:i=e.sent,Z(i.likes),P(i.liked),e.next=11;break;case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();e()}}),[s._id]),(0,_.jsx)(_.Fragment,{children:(0,_.jsx)("div",{className:"article_post",children:(0,_.jsxs)("div",{id:"article_card_wrapper",children:[(0,_.jsx)("div",{className:"article_card_about",children:(0,_.jsxs)("ul",{children:[(0,_.jsx)(u.rU,{to:"/profile/".concat(s.authorId),className:"article_card_linker",children:(0,_.jsxs)("li",{children:[s.authorProfilePic?(0,_.jsx)("img",{src:"data:image/png;base64,".concat(s.authorProfilePic),alt:""}):(0,_.jsx)("img",{src:p,alt:"profile"})," ",(0,_.jsx)("span",{children:s.author})]})}),(0,_.jsx)("li",{children:new Date(s.createdAt).toLocaleDateString("en-US",{month:"short",day:"2-digit"})}),(0,_.jsxs)("li",{className:"show_on",children:[s.timeTakenToReadPost," min read"]}),(0,_.jsx)("li",{className:"show_on",children:L})]})}),(0,_.jsxs)("div",{className:"article_card_mid",children:[(0,_.jsxs)("div",{className:"letter_part",children:[(0,_.jsx)(u.rU,{className:"article_card_linker",to:"/article/".concat(s._id),children:(0,_.jsx)("h2",{children:s.title})}),(0,_.jsx)("p",{children:s.description})]}),(0,_.jsx)("div",{className:"img_part",children:null!==s.descPhoto?(0,_.jsx)("img",{src:"data:image/png;base64,".concat(s.descPhoto),alt:"article_img_blob"}):(0,_.jsx)("img",{src:m,alt:"default_img"})})]}),(0,_.jsxs)("div",{className:"article_reactions",children:[(0,_.jsxs)("ul",{children:[(0,_.jsx)("li",{children:(0,_.jsx)("span",{className:"card_topic",children:s.categories[0]})}),(0,_.jsx)("li",{children:(0,_.jsxs)("span",{className:"show_of",children:[s.timeTakenToReadPost," min read"]})}),(0,_.jsx)("li",{children:(0,_.jsx)("span",{className:"show_of",children:L})}),(0,_.jsxs)("li",{children:[w," likes"]})]}),(0,_.jsxs)("ul",{children:[(0,_.jsx)("a",{href:"/",children:(0,_.jsx)(n.ZH2,{className:"article_card_icons hvr-float-shadow"})}),y?(0,_.jsx)("li",{children:(0,_.jsx)(o.L7p,{onClick:A,className:"article_card_icons hvr-float-shadow"})}):(0,_.jsx)("li",{children:(0,_.jsx)(l.UZT,{onClick:A,className:"article_card_icons hvr-float-shadow"})}),!N&&(0,_.jsx)("li",{children:(0,_.jsx)(n.ZNz,{onClick:function(){(0,x.j8)(s._id)},className:"article_card_icons hvr-float-shadow"})}),N&&(0,_.jsx)("li",{children:(0,_.jsx)(c.FH3,{onClick:function(){(0,x.jX)(s._id)},className:"article_card_icons hvr-float-shadow"})}),N&&(0,_.jsx)("li",{children:(0,_.jsx)(l.y4V,{onClick:function(){v((0,f.Vx)({id:s._id,title:s.title,body:s.body,timeTakenToReadPost:s.timeTakenToReadPost,description:s.description,categories:s.categories[0],isUpdate:!0})),i("/writepage")},className:"article_card_icons hvr-float-shadow"})})]})]})]})})})})),g=v},7764:function(e,s,i){i.d(s,{Z:function(){return _}});var a=i(4165),t=i(5861),r=i(9439),n=i(2791),l=i(5236),c=i(428),o=i(71),d=i(1578),u=i(6355),h=i(1087),p=i(1687),m=i(3855),x=i(8613),j=i(184),f=(0,n.memo)((function(e){var s=(0,n.useState)({}),i=(0,r.Z)(s,2),f=i[0],_=i[1],v=(0,n.useState)(!1),g=(0,r.Z)(v,2),N=g[0],b=g[1],k=(0,m.I0)(),w=["topbar",e.showBottomBoxShadow?"bottom-box-shadow":""].join(" "),Z=localStorage.getItem("user"),S=JSON.parse(Z);(0,n.useEffect)((function(){var e=function(){var e=(0,t.Z)((0,a.Z)().mark((function e(){var s;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,p.FQ)(S._id);case 2:s=e.sent,_(s);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[S._id]);var C=(0,n.useCallback)((function(){k((0,x.xz)(N))}));function y(){b(!N),C()}return(0,j.jsxs)("section",{className:w,children:[(0,j.jsxs)("div",{className:"container",children:[(0,j.jsxs)("div",{className:"logo-1",children:[(0,j.jsx)(h.rU,{to:"/dashboard",children:(0,j.jsx)("img",{className:"img1",src:l,alt:"lancaster-logo"})}),e.showText?(0,j.jsx)("span",{className:"logo-text",children:e.logoText}):(0,j.jsx)(h.rU,{to:"/dashboard",className:"home_link",children:(0,j.jsxs)("span",{className:"logo-text other_small",children:["Scholar",(0,j.jsx)("span",{className:"colored_part",children:"Scribe"})]})})]}),(0,j.jsxs)("ul",{className:"navbar",children:[e.showButton?(0,j.jsx)("li",{children:(0,j.jsx)("button",{className:"publish-button hvr-wobble-top",onClick:e.publishClick,children:"Publish"})}):(0,j.jsx)("li",{children:(0,j.jsxs)(h.rU,{to:"/writepage",className:"write",children:[(0,j.jsx)(o.tUd,{className:"write_icon"}),(0,j.jsx)("span",{className:"write_link hvr-wobble-top",children:"Write"})]})}),(0,j.jsx)("li",{children:(0,j.jsxs)("div",{className:"bg__change",children:[(0,j.jsx)("input",{type:"checkbox",className:"checkbox",onClick:y}),(0,j.jsxs)("label",{for:"checkbox",className:"checkbox__label",children:[(0,j.jsx)(u.Mei,{className:"fa-sun"}),(0,j.jsx)(u.TLr,{className:"fa-moon"}),(0,j.jsx)("span",{class:"check__ball",onClick:y})]})]})}),e.profile?(0,j.jsx)("li",{children:(0,j.jsx)(h.rU,{to:"/",children:(0,j.jsx)("button",{className:"publish-button hvr-wobble-top",onClick:e.logoutClick,children:"Logout"})})}):(0,j.jsx)("li",{children:(0,j.jsx)(h.rU,{to:"/profile/".concat(S._id),children:f.profilePicture?(0,j.jsx)("img",{className:"img4",src:"data:image/png;base64,".concat(f.profilePicture),alt:""}):(0,j.jsx)("img",{className:"img4",src:c,alt:""})})})]})]}),e.sidebar?e.showBottomBoxShadow&&(0,j.jsx)(d.Xlk,{className:"topbar_panel",onClick:e.sideBarHandle}):e.showBottomBoxShadow&&(0,j.jsx)(d.mtd,{className:"topbar_panel",onClick:e.sideBarHandle})]})})),_=f},428:function(e,s,i){e.exports=i.p+"static/media/profilevactor.4779aeafa6e57abc3cd1.jpg"}}]);
//# sourceMappingURL=931.2390697c.chunk.js.map