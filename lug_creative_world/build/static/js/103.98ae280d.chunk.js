"use strict";(self.webpackChunklug_creative_world=self.webpackChunklug_creative_world||[]).push([[103],{9103:function(e,s,n){n.r(s),n.d(s,{default:function(){return Z}});var t=n(4165),a=n(5861),r=n(9439),c=(n(6009),n(523),n(428)),i=n(6355),o=n(8820),l=n(7692),d=n(7764),u=n(7689),m=n(1087),h=n(2791),x=n(3310),p=n(6550),f=n(1243),j=n(1687),v=n(8014),_=n(9126),N=n(2426),w=n.n(N),b=n(184),g=function(e){var s=e.comment,n=e.postid,i=(0,h.useState)(!1),o=(0,r.Z)(i,2),d=o[0],u=o[1],m=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,j.fR)(n,s._id);case 2:200===e.sent&&(alert("successfully deleted comment"),window.location.reload());case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)("div",{id:"comment_box",children:[(0,b.jsxs)("div",{className:"comment_box_head",children:[(0,b.jsxs)("div",{className:"comment_profile_contain",children:[s.user.profilePicture?(0,b.jsx)("img",{src:"data:image/png;base64,".concat(s.user.profilePicture),alt:""}):(0,b.jsx)("img",{src:c,alt:"profile"}),(0,b.jsxs)("div",{className:"profile_data",children:[(0,b.jsx)("span",{children:s.user.username}),(0,b.jsx)("span",{children:w()(s.createdAt).fromNow()})]})]}),(0,b.jsxs)("div",{className:"drop_down_comment",children:[(0,b.jsx)(_.evw,{className:"icon",onClick:function(){u(!d)}}),(0,b.jsxs)("ul",{className:"drop ".concat(d?"showdrop":""),children:[(0,b.jsx)("li",{children:(0,b.jsx)("span",{onClick:m,children:"Delete"})}),(0,b.jsx)("li",{children:"Edit"})]})]})]}),(0,b.jsx)("div",{className:"comment_box_message",children:(0,b.jsx)("p",{children:s.commentText})}),(0,b.jsx)("div",{className:"comment_box_reactions",children:(0,b.jsx)("div",{className:"comment_icons",children:(0,b.jsx)(l.UZT,{className:"icon"})})})]})})},k=function(e){var s=localStorage.getItem("user"),n=JSON.parse(s),i=(0,h.useState)(""),o=(0,r.Z)(i,2),l=o[0],d=o[1],u=(0,h.useState)([]),m=(0,r.Z)(u,2),x=m[0],p=m[1],f=(0,h.useState)(!1),_=(0,r.Z)(f,2),N=_[0],w=_[1],k=(0,h.useState)({}),Z=(0,r.Z)(k,2),C=Z[0],S=Z[1];(0,h.useEffect)((function(){function s(){return(s=(0,a.Z)((0,t.Z)().mark((function e(){var s;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,j.FQ)(n._id);case 2:s=e.sent,S(s);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function r(){return(r=(0,a.Z)((0,t.Z)().mark((function s(){var n;return(0,t.Z)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,(0,j.li)(e.articleid);case 2:n=s.sent,e.setCommentsCount(n.length),p(n);case 5:case"end":return s.stop()}}),s)})))).apply(this,arguments)}!function(){s.apply(this,arguments)}(),function(){r.apply(this,arguments)}()}),[l]),console.log(x.length);var y={commentText:l},P=function(){var s=(0,a.Z)((0,t.Z)().mark((function s(n){return(0,t.Z)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(n.preventDefault(),!l){s.next=6;break}return w(!1),s.next=5,(0,j.w)(e.articleid,y);case 5:s.sent;case 6:case"end":return s.stop()}}),s)})));return function(e){return s.apply(this,arguments)}}();return(0,b.jsx)("div",{className:"comment_modal",children:(0,b.jsxs)("div",{className:"modal_content",children:[(0,b.jsxs)("div",{className:"comment_top",children:[(0,b.jsxs)("h4",{children:[C.username," is commenting"]}),(0,b.jsx)("button",{className:"comment_cancel_button",onClick:e.onClose,children:(0,b.jsx)(v.dS3,{})})]}),!N&&(0,b.jsx)("input",{type:"text",onClick:function(){w(!0)},name:"",id:"inputclick",placeholder:"pin down your opinions"}),(0,b.jsxs)("form",{className:"comment_form ".concat(N?"active":""),onSubmit:P,children:[(0,b.jsxs)("div",{className:"comment_owner_profile",children:[C.profilePicture?(0,b.jsx)("img",{src:"data:image/png;base64,".concat(C.profilePicture),alt:"profile"}):(0,b.jsx)("img",{src:c,alt:"default_profile"}),(0,b.jsx)("span",{children:C.username})]}),(0,b.jsx)("textarea",{className:"comment_area",value:l,onChange:function(e){d(e.target.value)},required:!0,placeholder:"pin down your opinions"}),(0,b.jsxs)("div",{className:"comment_bottom_container",children:[(0,b.jsx)("span",{onClick:function(){w(!1)},children:"Cancel"}),(0,b.jsx)("button",{type:"submit",className:"comment_button",children:"comment"})]})]}),x&&x.map((function(s){return(0,b.jsx)(g,{comment:s,postid:e.articleid},s._id)}))]})})},Z=function(){var e=(0,u.TH)().pathname.split("/")[2],s=(0,h.useState)({}),n=(0,r.Z)(s,2),v=n[0],_=n[1],N=(0,h.useState)(!1),w=(0,r.Z)(N,2),g=w[0],Z=w[1],C=(0,h.useState)(0),S=(0,r.Z)(C,2),y=S[0],P=S[1],T=(0,h.useState)(0),U=(0,r.Z)(T,2),B=U[0],I=U[1],L=(0,h.useState)(!1),D=(0,r.Z)(L,2),F=D[0],E=D[1],H=(0,h.useState)("Not Flagged"),q=(0,r.Z)(H,2),z=q[0];q[1];function A(){return O.apply(this,arguments)}function O(){return(O=(0,a.Z)((0,t.Z)().mark((function s(){var n,a;return(0,t.Z)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return F?(P(y-1),E(!F)):(P(y+1),E(!F)),n={likes:y,liked:F},s.next=4,(0,j.AS)(e,n);case 4:a=s.sent,E(a.liked),P(a.likes);case 7:case"end":return s.stop()}}),s)})))).apply(this,arguments)}return(0,h.useEffect)((function(){var s=function(){var s=(0,a.Z)((0,t.Z)().mark((function s(){var n;return(0,t.Z)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,f.Z.get("/api/posts/".concat(e));case 3:n=s.sent,_(n.data),s.next=10;break;case 7:throw s.prev=7,s.t0=s.catch(0),s.t0;case 10:case"end":return s.stop()}}),s,null,[[0,7]])})));return function(){return s.apply(this,arguments)}}();if(s(),void 0!==e){var n=function(){var s=(0,a.Z)((0,t.Z)().mark((function s(){var n;return(0,t.Z)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,(0,j.nN)(e);case 3:n=s.sent,console.log(n),P(n.likes),E(n.liked),s.next=12;break;case 9:throw s.prev=9,s.t0=s.catch(0),s.t0;case 12:case"end":return s.stop()}}),s,null,[[0,9]])})));return function(){return s.apply(this,arguments)}}();n()}}),[e]),0===Object.keys(v).length?(0,b.jsx)(x.Z,{}):(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)("div",{id:"article_view_wrapper",children:[(0,b.jsx)(d.Z,{}),(0,b.jsxs)("div",{className:"article_wrapper_container",children:[(0,b.jsxs)("div",{className:"article_view_head",children:[(0,b.jsx)("h2",{children:v.title}),(0,b.jsxs)("div",{className:"div_main",children:[(0,b.jsx)(m.rU,{to:"/profile/".concat(v.authorId),children:v.authorProfilePic?(0,b.jsx)("img",{src:"data:image/png;base64,".concat(v.authorProfilePic),alt:"author_profile"}):(0,b.jsx)("img",{src:c,alt:"default_profile"})}),(0,b.jsxs)("div",{className:"div_p",children:[(0,b.jsx)("div",{className:"div1",children:(0,b.jsx)(m.rU,{to:"/profile/".concat(v.authorId),className:"to_profile",children:(0,b.jsx)("span",{children:v.author})})}),(0,b.jsxs)("div",{className:"div2",children:[(0,b.jsx)("span",{children:new Date(v.createdAt).toLocaleDateString("en-US",{month:"short",day:"2-digit"})}),(0,b.jsxs)("span",{children:[v.timeTakenToReadPost," min read"]})]})]})]}),(0,b.jsx)("ul",{children:(0,b.jsxs)("li",{children:[(0,b.jsx)("span",{children:z}),(0,b.jsxs)("span",{children:[B," Comments"]}),(0,b.jsxs)("span",{children:[y," Likes"]})]})})]}),g&&(0,b.jsx)(k,{onClose:function(){return Z(!1)},article:v,articleid:e,setCommentsCount:I}),(0,b.jsx)("div",{className:"article_view_main ql-editor ",children:(0,b.jsx)(p.Z,{body:v.body})}),(0,b.jsx)("div",{className:"article_controls",children:(0,b.jsxs)("ul",{children:[F?(0,b.jsx)("li",{children:(0,b.jsx)(o.L7p,{onClick:A,className:"article_icons hvr-float-shadow"})}):(0,b.jsx)("li",{children:(0,b.jsx)(l.UZT,{onClick:A,className:"article_icons hvr-float-shadow"})}),(0,b.jsxs)("li",{children:[(0,b.jsx)(i.DCG,{onClick:function(){Z(!0)},className:"article_icons hvr-float-shadow"})," "]}),(0,b.jsx)(i.ZNz,{onClick:function(){(0,j.j8)(e)},className:"article_icons hvr-float-shadow"})]})})]})]})})}},6550:function(e,s,n){n.d(s,{Z:function(){return c}});var t=n(8703),a=n.n(t),r=(n(6009),n(618),n(184));var c=function(e){var s=e.body,n=a().sanitize(s);return(0,r.jsx)("div",{className:"article_view_para ql-editor",dangerouslySetInnerHTML:{__html:n}})}},7764:function(e,s,n){n.d(s,{Z:function(){return v}});var t=n(4165),a=n(5861),r=n(9439),c=n(2791),i=n(5236),o=n(428),l=n(71),d=n(1578),u=n(6355),m=n(1087),h=n(1687),x=n(3855),p=n(8613),f=n(184),j=(0,c.memo)((function(e){var s=(0,c.useState)({}),n=(0,r.Z)(s,2),j=n[0],v=n[1],_=(0,c.useState)(!1),N=(0,r.Z)(_,2),w=N[0],b=N[1],g=(0,x.I0)(),k=["topbar",e.showBottomBoxShadow?"bottom-box-shadow":""].join(" "),Z=localStorage.getItem("user"),C=JSON.parse(Z);(0,c.useEffect)((function(){var e=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(){var s;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,h.FQ)(C._id);case 2:s=e.sent,v(s);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[C._id]);var S=function(){b(!w),g((0,p.xz)(w))};return(0,f.jsxs)("section",{className:k,children:[(0,f.jsxs)("div",{className:"container",children:[(0,f.jsxs)("div",{className:"logo-1",children:[(0,f.jsx)(m.rU,{to:"/dashboard",children:(0,f.jsx)("img",{className:"img1",src:i,alt:"lancaster-logo"})}),e.showText?(0,f.jsx)("span",{className:"logo-text",children:e.logoText}):(0,f.jsx)(m.rU,{to:"/dashboard",className:"home_link",children:(0,f.jsxs)("span",{className:"logo-text other_small",children:["Scholar",(0,f.jsx)("span",{className:"colored_part",children:"Scribe"})]})})]}),(0,f.jsxs)("ul",{className:"navbar",children:[e.showButton?(0,f.jsx)("li",{children:(0,f.jsx)("button",{className:"publish-button hvr-wobble-top",onClick:e.publishClick,children:"Publish"})}):(0,f.jsx)("li",{children:(0,f.jsxs)(m.rU,{to:"/writepage",className:"write",children:[(0,f.jsx)(l.tUd,{className:"write_icon"}),(0,f.jsx)("span",{className:"write_link hvr-wobble-top",children:"Write"})]})}),(0,f.jsx)("li",{children:(0,f.jsxs)("div",{className:"bg__change",children:[(0,f.jsx)("input",{type:"checkbox",id:"checkbox",className:"checkbox",onClick:S}),(0,f.jsxs)("label",{for:"checkbox",className:"checkbox__label",children:[(0,f.jsx)(u.TLr,{className:"fa-moon"}),(0,f.jsx)(u.Mei,{className:"fa-sun"}),(0,f.jsx)("span",{className:"check__ball",onClick:S})]})]})}),e.profile?(0,f.jsx)("li",{children:(0,f.jsx)(m.rU,{to:"/",children:(0,f.jsx)("button",{className:"publish-button hvr-wobble-top",onClick:e.logoutClick,children:"Logout"})})}):(0,f.jsx)("li",{children:(0,f.jsx)(m.rU,{to:"/profile/".concat(C._id),children:j.profilePicture?(0,f.jsx)("img",{className:"img4",src:"data:image/png;base64,".concat(j.profilePicture),alt:""}):(0,f.jsx)("img",{className:"img4",src:o,alt:""})})})]})]}),e.sidebar?e.showBottomBoxShadow&&(0,f.jsx)(d.Xlk,{className:"topbar_panel",onClick:e.sideBarHandle}):e.showBottomBoxShadow&&(0,f.jsx)(d.mtd,{className:"topbar_panel",onClick:e.sideBarHandle})]})})),v=j},523:function(){},428:function(e,s,n){e.exports=n.p+"static/media/profilevactor.4779aeafa6e57abc3cd1.jpg"}}]);
//# sourceMappingURL=103.98ae280d.chunk.js.map