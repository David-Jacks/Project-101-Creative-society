"use strict";(self.webpackChunklug_creative_world=self.webpackChunklug_creative_world||[]).push([[935],{7935:function(e,a,t){t.r(a),t.d(a,{default:function(){return f}});var n=t(4165),s=t(5861),o=t(9439),r=t(2791),i=(t(523),t(6009),t(7764)),l=t(6770),c=t.n(l),d=t(3855),u=t(6969),h=t(6550),p=t(1687),x=t(8014),m=t(3310),j=t(184),v=function(e){var a=(0,r.useState)(null),t=(0,o.Z)(a,2),i=t[0],l=t[1],c=(0,r.useState)(!1),d=(0,o.Z)(c,2),u=d[0],h=d[1],v=(0,r.useState)(!1),b=(0,o.Z)(v,2),f=b[0],g=b[1],k=e.transfer1,N=k.title,w=k.body,C=k.description,y=k.author,S=k.timeTakenToReadPost,T=k.categories,_=k.authorId,Z=(0,r.useMemo)((function(){var e=new FormData;return e.append("title",N),e.append("descPhoto",i),e.append("body",w),e.append("author",y),e.append("authorId",_),e.append("timeTakenToReadPost",S),e.append("description",C),e.append("categories",T),e}),[N,w,C,y,S,T,_,i]),P=function(){var a=(0,s.Z)((0,n.Z)().mark((function a(t){return(0,n.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(t.preventDefault(),i){a.next=5;break}alert("Please you need to Illustrate with an image... Add Photo!!!"),a.next=20;break;case 5:if(!(N&&w&&C)){a.next=20;break}if(h(!0),!e.transfer2.isUpdate){a.next=14;break}return a.next=10,(0,p.Xc)(e.transfer2.id,Z);case 10:413===a.sent&&(alert("NOTE: Post is too large......"),e.onClose(),h(!1)),a.next=18;break;case 14:return a.next=16,(0,p.N5)(Z);case 16:413===a.sent&&(alert("NOTE: Post is too large......"),e.onClose(),h(!1));case 18:e.onClose(),h(!1);case 20:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();return u?(0,j.jsxs)("div",{className:"publish-modal",children:[(0,j.jsx)(m.Z,{}),";"]}):(0,j.jsx)("div",{className:"publish-modal",children:(0,j.jsxs)("div",{className:"modal-content",children:[(0,j.jsxs)("div",{className:"publish-top",children:[(0,j.jsxs)("h4",{children:[y," is publishing"]}),(0,j.jsx)("button",{className:"cancel-button",onClick:e.onClose,children:(0,j.jsx)(x.dS3,{})})]}),(0,j.jsxs)("form",{onSubmit:P,children:[(0,j.jsx)("label",{children:(0,j.jsx)("textarea",{className:"area",value:C,onChange:e.handleDescChange,required:!0,placeholder:"Make your post a magnet for readers! Just drop in a quick, captivating description (up to 50 Words) to draw them into your world effortlessly."})}),(0,j.jsx)("label",{children:(0,j.jsxs)("select",{className:"box",value:T,onChange:e.handleCatChange,required:!0,children:[(0,j.jsx)("option",{value:"",children:"Pick Category"}),(0,j.jsx)("option",{value:"Student Business",children:"Student Business"}),(0,j.jsx)("option",{value:"Case Study",children:"Case Study"}),(0,j.jsx)("option",{value:"Lifestyle",children:"Lifestyle"}),(0,j.jsx)("option",{value:"Health and wellness",children:"Health and wellness"}),(0,j.jsx)("option",{value:"Research Proposal",children:"Research Proposal"}),(0,j.jsx)("option",{value:"Comedy",children:"Comedy"}),(0,j.jsx)("option",{value:"Love and Relationships",children:"Love and Relationships"}),(0,j.jsx)("option",{value:"Creative Writing",children:"Creative Writing"}),(0,j.jsx)("option",{value:"Science and Technology",children:"Science and Technology"}),(0,j.jsx)("option",{value:"Announcements",children:"Announcements"}),(0,j.jsx)("option",{value:"Academics",children:"Academics"}),(0,j.jsx)("option",{value:"Sports and Entertainment",children:"Sports and Entertainment"})]})}),(0,j.jsx)("label",{children:(0,j.jsxs)("select",{className:"box",value:S,onChange:e.handleTimeTaken,required:!0,children:[(0,j.jsx)("option",{value:"",children:"Specify Reading Time"}),(0,j.jsx)("option",{value:"4",children:"Less Than 4 min"}),(0,j.jsx)("option",{value:"7",children:"Less Than 7 min"}),(0,j.jsx)("option",{value:"10",children:"Less Than 10 min"}),(0,j.jsx)("option",{value:"2",children:"More Than 2 min"}),(0,j.jsx)("option",{value:"5",children:"More Than 5 min"}),(0,j.jsx)("option",{value:"8",children:"More Than 8 min"}),(0,j.jsx)("option",{value:"12",children:"More Than 10 min"})]})}),(0,j.jsxs)("div",{className:"articlePhotoHandle",children:[(0,j.jsxs)("label",{className:"file-input-label",children:[(0,j.jsx)("h4",{children:f?"Update Photo":"Add Photo"}),(0,j.jsx)("input",{type:"file",name:"file",accept:"image/*",onChange:function(e){var a=e.target.files[0];l(a),g(!0)}})]}),i&&(0,j.jsx)("img",{src:URL.createObjectURL(i),alt:"Selected",className:"articlePhotoPreview"})]}),(0,j.jsx)("div",{className:"proceed-button-container",children:(0,j.jsx)("button",{type:"submit",className:"proceed-button",children:"Proceed"})})]})]})})},b=function e(){var a=(0,d.v9)((function(e){return e.article.value})),t=(0,r.useRef)(null),l=(0,d.I0)(),x=(0,r.useState)(a.title),m=(0,o.Z)(x,2),b=m[0],f=m[1],g=(0,r.useState)(a.description),k=(0,o.Z)(g,2),N=k[0],w=k[1],C=(0,r.useState)(a.body),y=(0,o.Z)(C,2),S=y[0],T=y[1],_=(0,r.useState)(a.timeTakenToReadPost),Z=(0,o.Z)(_,2),P=Z[0],B=Z[1],R=(0,r.useState)("Programming"),L=(0,o.Z)(R,2),U=L[0],I=L[1],M=(0,r.useState)(!0),E=(0,o.Z)(M,2),q=E[0],H=E[1],A=(0,r.useState)({}),O=(0,o.Z)(A,2),W=O[0],D=O[1],F=(0,r.useState)(!1),J=(0,o.Z)(F,2),z=J[0],Q=J[1],X=(0,r.useState)(1),G=(0,o.Z)(X,2),K=G[0],V=G[1],Y=localStorage.getItem("user"),$=JSON.parse(Y);(0,r.useEffect)((function(){var e=function(){var e=(0,s.Z)((0,n.Z)().mark((function e(){var a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,p.FQ)($._id);case 2:a=e.sent,D(a);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[$._id]);var ee=W.username,ae=W._id,te={title:b,body:S,author:ee,description:N,timeTakenToReadPost:P,categories:U,authorId:ae},ne=(0,r.useCallback)((function(){b&&S?Q(!0):alert("Please check!! The Title or Body is Empty")}),[b,S]);return(0,j.jsxs)("section",{className:"writepage",children:[(0,j.jsx)(i.Z,{publishClick:ne,showButton:!0,showText:!0,logoText:"Drafted by ".concat(ee)}),(0,j.jsxs)("div",{className:"writediv",children:[(0,j.jsxs)("div",{id:"toolbar",children:[q&&(0,j.jsx)("button",{className:"button-click ",onClick:function(){t.current.editor.history.redo()},children:"redo"}),q&&(0,j.jsx)("button",{className:"button-click ",onClick:function(){t.current.editor.history.undo()},children:"undo"}),(0,j.jsxs)("button",{className:"button-click",onClick:function(){l((0,u.RN)({body:S,title:b,isUpdate:a.isUpdate})),H(!q)},children:[" ",q?"Preview":"back"]})]}),q?(0,j.jsxs)("div",{className:"Editor_container",children:[(0,j.jsx)("div",{className:"article-write-header",children:(0,j.jsx)("textarea",{name:"header",id:"header",placeholder:"Write your tittle",value:b,rows:K,onChange:function(e){var a=e.target.rows;e.target.rows=1;var t=Math.floor(e.target.scrollHeight/40);t===a&&(e.target.rows=t),V(t<10?t:10),f(e.target.value)}})}),(0,j.jsx)(c(),{theme:"snow",placeholder:"Write your best...",modules:e.modules,onChange:T,value:S,formats:e.formats,ref:t})]}):(0,j.jsxs)("div",{className:"preview",children:[(0,j.jsx)("div",{className:"preview_head",children:(0,j.jsx)("h1",{children:b})}),(0,j.jsx)(h.Z,{body:S})]}),z&&(0,j.jsx)(v,{handleCatChange:function(e){I(e.target.value)},handleDescChange:function(e){w(e.target.value)},handleTimeTaken:function(e){B(e.target.value)},onClose:function(){return Q(!1)},transfer1:te,transfer2:a})]})]})};b.modules={toolbar:[[{header:[1,2,!1]}],[{font:[]}],["bold","italic","underline","blockquote"],[{list:"ordered"},{list:"bullet"},{align:[]},{indent:"-1"},{indent:"+1"}],["link","image"],[{color:[]},{background:[]}],["clean"]],history:{delay:2e3,maxStack:500,userOnly:!0}},b.formats=["header","bold","italic","underline","blockquote","list","bullet","indent","link","image","font","align","color","background","undo","redo"];var f=b},6550:function(e,a,t){t.d(a,{Z:function(){return r}});var n=t(8703),s=t.n(n),o=(t(6009),t(618),t(184));var r=function(e){var a=e.body,t=s().sanitize(a);return(0,o.jsx)("div",{className:"article_view_para ql-editor",dangerouslySetInnerHTML:{__html:t}})}},7764:function(e,a,t){t.d(a,{Z:function(){return b}});var n=t(4165),s=t(5861),o=t(9439),r=t(2791),i=t(5236),l=t(428),c=t(71),d=t(1578),u=t(6355),h=t(1087),p=t(1687),x=t(3855),m=t(8613),j=t(184),v=(0,r.memo)((function(e){var a=(0,r.useState)({}),t=(0,o.Z)(a,2),v=t[0],b=t[1],f=(0,r.useState)(!1),g=(0,o.Z)(f,2),k=g[0],N=g[1],w=(0,x.I0)(),C=["topbar",e.showBottomBoxShadow?"bottom-box-shadow":""].join(" "),y=localStorage.getItem("user"),S=JSON.parse(y);(0,r.useEffect)((function(){var e=function(){var e=(0,s.Z)((0,n.Z)().mark((function e(){var a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,p.FQ)(S._id);case 2:a=e.sent,b(a);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[S._id]);var T=function(){N(!k),w((0,m.xz)(k))};return(0,j.jsxs)("section",{className:C,children:[(0,j.jsxs)("div",{className:"container",children:[(0,j.jsxs)("div",{className:"logo-1",children:[(0,j.jsx)(h.rU,{to:"/dashboard",children:(0,j.jsx)("img",{className:"img1",src:i,alt:"lancaster-logo"})}),e.showText?(0,j.jsx)("span",{className:"logo-text",children:e.logoText}):(0,j.jsx)(h.rU,{to:"/dashboard",className:"home_link",children:(0,j.jsxs)("span",{className:"logo-text other_small",children:["Scholar",(0,j.jsx)("span",{className:"colored_part",children:"Scribe"})]})})]}),(0,j.jsxs)("ul",{className:"navbar",children:[e.showButton?(0,j.jsx)("li",{children:(0,j.jsx)("button",{className:"publish-button hvr-wobble-top",onClick:e.publishClick,children:"Publish"})}):(0,j.jsx)("li",{children:(0,j.jsxs)(h.rU,{to:"/writepage",className:"write",children:[(0,j.jsx)(c.tUd,{className:"write_icon"}),(0,j.jsx)("span",{className:"write_link hvr-wobble-top",children:"Write"})]})}),(0,j.jsx)("li",{children:(0,j.jsxs)("div",{className:"bg__change",children:[(0,j.jsx)("input",{type:"checkbox",id:"checkbox",className:"checkbox",onClick:T}),(0,j.jsxs)("label",{for:"checkbox",className:"checkbox__label",children:[(0,j.jsx)(u.TLr,{className:"fa-moon"}),(0,j.jsx)(u.Mei,{className:"fa-sun"}),(0,j.jsx)("span",{className:"check__ball",onClick:T})]})]})}),e.profile?(0,j.jsx)("li",{children:(0,j.jsx)(h.rU,{to:"/",children:(0,j.jsx)("button",{className:"publish-button hvr-wobble-top",onClick:e.logoutClick,children:"Logout"})})}):(0,j.jsx)("li",{children:(0,j.jsx)(h.rU,{to:"/profile/".concat(S._id),children:v.profilePicture?(0,j.jsx)("img",{className:"img4",src:"data:image/png;base64,".concat(v.profilePicture),alt:""}):(0,j.jsx)("img",{className:"img4",src:l,alt:""})})})]})]}),e.sidebar?e.showBottomBoxShadow&&(0,j.jsx)(d.Xlk,{className:"topbar_panel",onClick:e.sideBarHandle}):e.showBottomBoxShadow&&(0,j.jsx)(d.mtd,{className:"topbar_panel",onClick:e.sideBarHandle})]})})),b=v},523:function(){},428:function(e,a,t){e.exports=t.p+"static/media/profilevactor.4779aeafa6e57abc3cd1.jpg"}}]);
//# sourceMappingURL=935.3a50f16b.chunk.js.map